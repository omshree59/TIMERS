<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap" rel="stylesheet">
    <style>
      
      :root {
        --bg-light: #d4602bee;
        --text-light: #f5f5f5;
        --bg-dark: #1e1e1e;
        --text-dark: #f0f0f0;
      }
  
      body {
        margin: 0;
        font-family: 'Segoe UI', sans-serif;
        background-image: url('https://images.pexels.com/photos/172276/pexels-photo-172276.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1');
        background-color: var(--bg-light);
        background-repeat: repeat;
        background-size: cover;
        color: var(--text-light);
        transition: background 0.4s, color 0.4s;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 2rem;
        min-height: 100vh;
        overflow-x: hidden;
      }
  
      .dark-mode {
        background-color: var(--bg-dark);
        color: var(--text-dark);
      }
      
      h1 {
        margin-bottom: 2rem;
        font-size: 3rem;
        margin-left: 1rem;
        font-family: 'Pacifico', cursive;
        font-weight: normal;
        color: rgb(255, 213, 25);
      }
  
      .timer-controls {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        margin-bottom: 1.5rem;
        align-items: center;
      }
  
      .default-buttons,
      .custom-inputs input {
    padding: 0.6rem 1rem; /* Same padding as button */
    font-size: 1rem;       /* Same font size */
    border-radius: 12px;   /* Same rounded corners */
    border: none;
    background: linear-gradient(to right, #552504, #664a3c); /* Button gradient */
    color: white;
    text-align: center;
    width: auto;           /* Allow it to size like a button */
    min-width: 110px;      /* Similar to button width */
    box-sizing: border-box;
    outline: none;
    transition: background 0.3s;
  }
  
  .custom-inputs input::placeholder {
    color: rgba(255, 255, 255, 0.7);
  }
  
  .custom-inputs input:hover {
    background: linear-gradient(to right, #a0522d, #cd853f); /* Button hover */
  }
  
  
  
      .control-buttons {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    justify-content: center;
  }
  
  
      .custom-inputs input {
        width: 60px;
        padding: 0.3rem;
      }
  
      .dark-toggle {
        background: #333;
        color: #fff;
        border-radius: 50%;
        font-size: 1.2rem;
        padding: 0.4rem 0.6rem;
        position: absolute;
        top: 15px;
        right: 15px;
        cursor: pointer;
      }
  
      button {
        border-radius: 12px;
        background: linear-gradient(to right, #552504, #664a3c);
        border: none;
        color: white;
        padding: 0.6rem 1rem;
        font-size: 1rem;
        cursor: pointer;
        transition: background 0.3s;
      }
  
      button:hover {
        background: linear-gradient(to right, #a0522d, #cd853f);
      }
  
      input {
        font-size: 1rem;
      }
  
      #timer {
    font-family: 'Share Tech Mono', monospace;
    font-size: 2rem;
    letter-spacing: 4px;
    color: #ff0000;
    background-color: #000000cc; /* semi-transparent black */
    padding: 1rem 2rem;
    border: 2px solid #ff0000;
    border-radius: 12px;
    box-shadow: 
      0 0 10px #ff0000,
      0 0 5px #ff0000,
      inset 0 0 10px #000000;
    width: fit-content;
    margin: 1rem auto;
    text-align: center;
    transform: translateX(-25px); /* Shifts the timer 10px to the left */
  }
  
  
      
      #streakDisplay {
    font-size: 1.2rem;
    margin-top: 10rem;
    color: gold;
    font-weight: bold;
  }
  
  /* Dropdown styles */
  #progressReport {
      margin-top: 3rem;
      text-align: center;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      cursor: pointer;
  }
  
  #reportList {
      list-style: none;
      padding: 0;
      display: none;
      margin-top: 1rem;
  }
  
  #progressReport.open #reportList {
      display: block;
  }
  
  
  
      #memePopup, #lottieContainer {
        margin: 5rem 0;
        text-align: center;
      }
  
      .meme-img {
        max-width: 200px;
        margin-top: 1rem;
      }
  
      .progress-ring {
        position: relative;
        width: 120px;
        height: 120px;
      }
  
      .progress-ring svg {
        transform: rotate(-90deg);
      }
  
      .progress-ring circle {
        fill: none;
        stroke-width: 10;
      }
  
      .progress-ring .track {
        stroke: #f7170f;
      }
  
      .progress-ring .progress {
        stroke: #7bff23;
        stroke-dasharray: 314;
        stroke-dashoffset: 314;
        transition: stroke-dashoffset 0.5s;
      }
  
      /* Floating Words */
      .floating-words {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 10;
      }
  
      .floating-word {
        position: absolute;
        left: -200px;
        font-size: 2rem;
        font-weight: bold;
        color: rgba(0, 0, 0, 0.5);
        animation: floatWord 6s linear infinite;
        white-space: nowrap;
        user-select: none;
      }
  
      @keyframes floatWord {
        0% {
          transform: translateX(0);
          opacity: 1;
        }
        100% {
          transform: translateX(120vw);
          opacity: 0.4;
        }
      }
    #achievement-panel {
      width: 100%;
      background: linear-gradient(to right, #552504, #664a3c);
      border-top: 2px solid #ffffff;
      padding: 20px;
      font-family: Arial, sans-serif;
      margin-top: 60px;
    }
  
    #achievement-panel h2 {
  margin-top: 0;
  text-align: center;
  font-size: 45px;
  margin-bottom: 20px;
  font-family: 'Anton', sans-serif;
  font-weight: 800; /* Use 700‚Äì900 for boldness */
  color: rgb(202, 144, 105);
}
  
    .achievement {
      margin-bottom: 20px;
    }
  
    .achievement-label {
      display: flex;
      justify-content: space-between;
      font-size: 15px;
      margin-bottom: 6px;
    }
  
    .achievement-label .unlocked {
      color: green;
      font-weight: bold;
    }
  
    .progress-bar {
      background: #ddd;
      height: 10px;
      border-radius: 5px;
      overflow: hidden;
    }
  
    .progress-fill {
      background: #4caf50;
      height: 100%;
      transition: width 0.3s ease-in-out;
    }
  
    .achievement-description {
      font-size: 13px;
      color: #cacaa6;
      margin-top: 5px;
    }
    </style>
</head>
<body>
    <div id="progressReport" onclick="toggleReport()">
        <h2>üìã Session Report</h2>
        <ul id="reportList"></ul>
    </div>   
<h1>Procrastination Timer ‚è≥</h1>

<div class="timer-controls">
  <div class="default-buttons">
    <button onclick="startTimer(5, 0)">5 min</button>
    <button onclick="startTimer(10, 0)">10 min</button>
    <button onclick="startTimer(15, 0)">15 min</button>
    <button onclick="startTimer(20, 0)">20 min</button>
  </div>
  <div class="custom-inputs">
    <input id="customMin" type="number" placeholder="Min">
    <input id="customSec" type="number" placeholder="Sec">
    <button onclick="startCustom()">Start Custom</button>
  </div>
  <div class="control-buttons">
    <button onclick="pauseTimer()">Pause</button>
    <button onclick="resumeTimer()">Resume</button>
    <button onclick="restartTimer()">Restart</button>
  </div>      
</div>

<button class="dark-toggle" onclick="toggleDarkMode()">üåô</button>

<div class="progress-ring">
  <svg width="120" height="120">
    <circle class="track" cx="60" cy="60" r="50"></circle>
    <circle class="progress" cx="60" cy="60" r="50"></circle>
  </svg>
  <div id="timer">00:00</div>
</div>

<div id="streakDisplay">üî• Streak: 0</div>
<div id="memePopup"></div>
<div id="lottieContainer"></div>
<div id="achievement-panel">
    <h2>Achievements</h2>
    <div id="achievements-list"></div>
  </div>
  

<!-- Floating words container -->
<div class="floating-words">
  <span class="floating-word">Focus</span>
  <span class="floating-word">Discipline</span>
  <span class="floating-word">Grind</span>
  <span class="floating-word">Break</span>
  <span class="floating-word">Refresh</span>
  <span class="floating-word">Repeat</span>
  <span class="floating-word">Hustle</span>
  <span class="floating-word">Achieve</span>
  <span class="floating-word">Progress</span>
  <span class="floating-word">Work</span>
  <span class="floating-word">Power</span>
  <span class="floating-word">Grow</span>
</div>
<audio id="alertSound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
  <script>
let totalFocusedTime = 0;
let sessionsToday = 0;
let interval;
let longestSession = 0;
let totalSessions = 0;
let paused = false;
let streak = 0;
let timeLeft = 0;
let originalDuration = 0;

const timerDisplay = document.getElementById("timer");
const memePopup = document.getElementById("memePopup");
const alertSound = document.getElementById("alertSound");
const progressCircle = document.querySelector(".progress-ring .progress");
const totalLength = 2 * Math.PI * 50;

progressCircle.style.strokeDasharray = totalLength;

const memes = [
  { text: "Keep going, you legend! üòé", img: "https://i.imgflip.com/2wifvo.jpg" },
  { text: "That was productive! Now smile. üòÅ", img: "https://i.imgflip.com/1otk96.jpg" },
  { text: "Even Batman takes breaks. Be like Batman.", img: "https://i.postimg.cc/xdrJ6FHq/image.png" },
  { text: "Productivity + Memes = üëë", img: "https://i.postimg.cc/3JS2FBnD/image.png" },
  { text: "You vs. You yesterday. You're winning. üí™", img: "https://i.imgflip.com/26am.jpg" },
  { text: "One session closer to your dreams! üå†", img: "https://i.imgflip.com/1bij.jpg" },
  { text: "Not all heroes wear capes. Some use timers. ‚è≥", img: "https://i.imgflip.com/3si4.jpg" },
  { text: "Stay strong. The grind is real. üî•", img: "https://i.imgflip.com/1bhf.jpg" },
  { text: "You just leveled up in life. üéÆ", img: "https://i.imgflip.com/1ur9b0.jpg" },
  { text: "Break time? You've earned it. ‚òï", img: "https://i.postimg.cc/HL55HCHQ/image.png" },
  { text: "Focus mode: ACTIVATED. üß†", img: "https://i.postimg.cc/pTfDQM62/image.png" },
  { text: "That‚Äôs how legends work. üëè", img: "https://i.imgflip.com/265k.jpg" },
  { text: "You're doing amazing, sweetie. üòÇ", img: "https://i.imgflip.com/3oevdk.jpg" },
  { text: "Motivated? Yes. Distracted? No. üõ°Ô∏è", img: "https://i.postimg.cc/8kbRjDv4/image.png" },
  { text: "Crushed another session like a boss. üíº", img: "https://i.imgflip.com/3vzej.jpg" },
  { text: "Future you is proud right now. üôå", img: "https://i.imgflip.com/2fm6x.jpg" },
  { text: "Tiny steps = Big progress. üê¢‚û°Ô∏èüêá", img: "https://i.imgflip.com/4t0m5.jpg" },
  { text: "Distractions tried. You said no. üîí", img: "https://i.postimg.cc/XNx5nLMD/image.png" },
  { text: "Procrastination? Never heard of her. ü§∑", img: "https://i.postimg.cc/NMjgD1N5/blonde-girl-idk.jpg" },
  { text: "You‚Äôre a productivity machine. ü¶æ", img: "https://i.postimg.cc/9MY7RtD0/image.png" }
];

// Handle the session report dropdown
function toggleReport() {
  const report = document.getElementById('progressReport');
  report.classList.toggle('open');
}

function startTimer(mins, secs) {
  clearInterval(interval); // Clear any existing intervals
  originalDuration = mins * 60 + secs;
  timeLeft = originalDuration;
  paused = false;
  updateDisplay(timeLeft);
  updateProgress(timeLeft, originalDuration);

  interval = setInterval(() => {
    if (!paused && timeLeft > 0) {
      timeLeft--;
      updateDisplay(timeLeft);
      updateProgress(timeLeft, originalDuration);
    }

    // When the time reaches zero
    if (timeLeft <= 0) {
      clearInterval(interval);  // Stop the timer
      streak++;  // Increment the streak
      document.getElementById("streakDisplay").textContent = `üî• Streak: ${streak}`;
      totalFocusedTime += originalDuration;  // Add to the total focused time
      totalSessions++;  // Increment the total session count
      sessionsToday++;  // Increment the session count for today
      if (originalDuration > longestSession) {
        longestSession = originalDuration;
      }
      updateAchievements();
      logSessionReport(originalDuration);  // Log the session report
      showMeme();  // Display a meme
      playSound();  // Play sound
      playLottie();  // Play Lottie animation
    }
  }, 1000);
}

function startCustom() {
  let mins = parseInt(document.getElementById("customMin").value) || 0;
  let secs = parseInt(document.getElementById("customSec").value) || 0;
  startTimer(mins, secs);
}

function updateDisplay(seconds) {
  let m = String(Math.floor(seconds / 60)).padStart(2, '0');
  let s = String(seconds % 60).padStart(2, '0');
  timerDisplay.textContent = `${m}:${s}`;
}

function updateProgress(timeLeft, totalTime) {
  const progress = totalLength * (1 - (timeLeft / totalTime));
  progressCircle.style.strokeDashoffset = progress;
  if (timeLeft <= 0) {
    progressCircle.style.strokeDashoffset = totalLength;
  }
}

function showMeme() {
  const random = memes[Math.floor(Math.random() * memes.length)];
  memePopup.innerHTML = `<p>${random.text}</p><img class="meme-img" src="${random.img}" alt="Meme">`;
}

function playSound() {
  alertSound.currentTime = 0;
  alertSound.play();
}

function playLottie() {
  const container = document.getElementById("lottieContainer");
  container.innerHTML = "";
  lottie.loadAnimation({
    container: container,
    renderer: 'svg',
    loop: false,
    autoplay: true,
    path: 'https://assets10.lottiefiles.com/packages/lf20_rsa6mkzx.json'
  });
}

function toggleDarkMode() {
  document.body.classList.toggle("dark-mode");
}

// Assign random font and movement to floating words
const fonts = [
  "Georgia", "Verdana", "Courier New", "Lucida Console", "Comic Sans MS",
  "Trebuchet MS", "Impact", "Palatino Linotype", "Tahoma", "Arial Black"
];

document.querySelectorAll('.floating-word').forEach(word => {
  const top = Math.random() * 90 + 5;
  const delay = Math.random() * 5;
  const duration = 5 + Math.random() * 3;
  const font = fonts[Math.floor(Math.random() * fonts.length)];

  word.style.top = `${top}%`;
  word.style.animationDelay = `${delay}s`;
  word.style.animationDuration = `${duration}s`;
  word.style.fontFamily = font;
});

function pauseTimer() {
  paused = true;
}

function resumeTimer() {
  if (paused && timeLeft > 0) {
    paused = false;
  }
}

function restartTimer() {
  if (originalDuration > 0) {
    startTimer(Math.floor(originalDuration / 60), originalDuration % 60);
  }
}

function logSessionReport(duration) {
  const reportList = document.getElementById("reportList");
  const minutes = Math.floor(duration / 60);
  const seconds = duration % 60;
  const now = new Date();
  const timestamp = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

  const item = document.createElement("li");
  item.innerHTML = `
    <strong>‚úÖ Completed:</strong> ${minutes}m ${seconds}s |
    <strong>Streak:</strong> ${streak} |
    <strong>Sessions Today:</strong> ${sessionsToday} |
    <strong>Total Time:</strong> ${Math.floor(totalFocusedTime / 60)}m ${totalFocusedTime % 60}s |
    <strong>Finished At:</strong> ${timestamp}
  `;
  reportList.prepend(item);
}

// --- Achievements System ---
let achievements = [
  {
    key: "firstSession",
    title: "Getting Started",
    description: "Complete your first focus session.",
    check: () => totalSessions >= 1,
    progress: () => Math.min(totalSessions, 1),
    target: 1
  },
  {
    key: "fiveSessions",
    title: "First Five",
    description: "Complete 5 focus sessions.",
    check: () => totalSessions >= 5,
    progress: () => Math.min(totalSessions, 5),
    target: 5
  },
  {
    key: "tenSessions",
    title: "Consistency is Key",
    description: "Complete 10 focus sessions in total.",
    check: () => totalSessions >= 10,
    progress: () => Math.min(totalSessions, 10),
    target: 10
  },
  {
    key: "shortSession",
    title: "Short & Sweet",
    description: "Complete a 5-minute session.",
    check: () => longestSession >= 300,
    progress: () => Math.min(longestSession, 300),
    target: 300
  },
  {
    key: "deepDive",
    title: "Deep Dive",
    description: "Complete a 15-minute session.",
    check: () => longestSession >= 900,
    progress: () => Math.min(longestSession, 900),
    target: 900
  },
  {
    key: "endurance",
    title: "Endurance Challenge",
    description: "Complete a 30-minute session.",
    check: () => longestSession >= 1800,
    progress: () => Math.min(longestSession, 1800),
    target: 1800
  },
  {
    key: "hourlyHero",
    title: "Hourly Hero",
    description: "Reach 1 hour of total focus time.",
    check: () => totalFocusedTime >= 3600,
    progress: () => Math.min(totalFocusedTime, 3600),
    target: 3600
  },
  {
    key: "threeHourStreak",
    title: "Three-Hour Streak",
    description: "Reach 3 hours of total focus time.",
    check: () => totalFocusedTime >= 10800,
    progress: () => Math.min(totalFocusedTime, 10800),
    target: 10800
  },
  {
    key: "marathon",
    title: "Marathon Focus",
    description: "Complete a 60-minute session.",
    check: () => longestSession >= 3600,
    progress: () => Math.min(longestSession, 3600),
    target: 3600
  },
  {
    key: "focusMaster",
    title: "Focus Master",
    description: "Reach 10 hours of total focus time.",
    check: () => totalFocusedTime >= 36000,
    progress: () => Math.min(totalFocusedTime, 36000),
    target: 36000
  }
];

function updateAchievements() {
  const container = document.getElementById("achievements-list");
  container.innerHTML = "";

  achievements.forEach(ach => {
    const current = ach.progress();
    const progress = Math.min((current / ach.target) * 100, 100);
    const unlocked = ach.check();

    const wrapper = document.createElement("div");
    wrapper.className = "achievement";

    const label = document.createElement("div");
    label.className = "achievement-label";
    label.innerHTML = `
      <span class="${unlocked ? 'unlocked' : ''}">${ach.title}</span>
      <span>${ach.key === "shortSession" || ach.key === "deepDive" || ach.key === "endurance" || ach.key === "marathon"
        ? `${Math.floor(current/60)}m/${Math.floor(ach.target/60)}m`
        : `${current}/${ach.target}`}</span>
    `;

    const bar = document.createElement("div");
    bar.className = "progress-bar";
    bar.innerHTML = `<div class="progress-fill" style="width: ${progress}%;"></div>`;

    const description = document.createElement("div");
    description.className = "achievement-description";
    description.textContent = ach.description;

    wrapper.appendChild(label);
    wrapper.appendChild(bar);
    wrapper.appendChild(description);
    container.appendChild(wrapper);
  });
}
updateAchievements();

  </script>
</body>
</html>